$.fn.formProgressBar=function(r){var e=$.extend({},{readCount:!1,validClass:"valid",invalidClass:"error",percentCounting:!1,transitionTime:0,height:10,transitionType:"ease"},r);$("body").prepend("<div id='jQueryProgressFormBar'><div></div></div>"),$("#jQueryProgressFormBar").css("position","fixed").css("top",0).css("left",0).css("width","100%").css("height",e.height).css("z-index",1e4),$("#jQueryProgressFormBar>div").css({WebkitTransition:"all "+e.transitionTime+"ms "+e.transitionType,MozTransition:"all "+e.transitionTime+"ms "+e.transitionType,MsTransition:"all "+e.transitionTime+"ms "+e.transitionType,OTransition:"all "+e.transitionTime+"ms "+e.transitionType,transition:"all "+e.transitionTime+"ms "+e.transitionType}).css("height",e.height),this.elementsRequied=function(){var r=$(this).find("input[required], textarea[required], select[required]").toArray();return arr=[],r.map(function(r){arr[r.name]=0,r.checked&&(arr[r.name]=1)}),arr},this.refresh=function(){t=this.elementsRequied()},this.renderBar=function(){var r=0,s=0,a=!1;for(var i in t)1==t[i]&&r++,-1==t[i]&&(a=!0),s++;var n=(r/s*100).toFixed(2);e.percentCounting&&$("#jQueryProgressFormBar>div").text(Math.round(n)+" %"),$("#jQueryProgressFormBar>div").css("width",n+"%"),1==a?$("#jQueryProgressFormBar>div").addClass("warn"):$("#jQueryProgressFormBar>div").removeClass("warn").removeClass("error")},this.bindElements=function(){var r=this.renderBar;if($(this).find("input[required], textarea[required], select[required]").change(function(){if(e.readCount)switch($(this).attr("type")){case"checkbox":case"radio":$(this).is(":checked")?t[$(this).attr("name")]=1:t[$(this).attr("name")]=-1}else switch($(this).prop("nodeName")){case"INPUT":switch($(this).attr("type")){case"text":""!=$(this).val()?t[$(this).attr("name")]=1:t[$(this).attr("name")]=-1;break;case"email":/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String($(this).val()).toLowerCase())?t[$(this).attr("name")]=1:t[$(this).attr("name")]=-1;break;case"number":$.isNumeric($(this).val())?t[$(this).attr("name")]=1:t[$(this).attr("name")]=-1;break;case"checkbox":case"radio":$(this).is(":checked")?t[$(this).attr("name")]=1:t[$(this).attr("name")]=-1}break;case"SELECT":""!=$(this).val()?t[$(this).attr("name")]=1:t[$(this).attr("name")]=-1}r()}),e.readCount){var s=$(this).find("input[required], textarea[required], select[required]"),a=new MutationObserver(function(s){s.forEach(function(s){"class"===s.attributeName&&($(s.target).hasClass(e.validClass)?t[$(s.target).attr("name")]=1:$(s.target).hasClass(e.invalidClass)&&(t[$(s.target).attr("name")]=-1),r())})});s.map(function(r){a.observe(s[r],{attributes:!0})})}$(this).submit(function(r){if($("#jQueryProgressFormBar>div").hasClass("warn"))return $("#jQueryProgressFormBar>div").removeClass("warn").addClass("error"),void r.preventDefault();var e=0;for(var s in t)1==t[s]&&e++,length++;if(e!=length)return $("#jQueryProgressFormBar>div").removeClass("warn").addClass("error"),void r.preventDefault();$("#jQueryProgressFormBar>div").removeClass("warn").removeClass("error")})};var t=this.elementsRequied();return this.bindElements(),this},$.fn.formProgressBar;